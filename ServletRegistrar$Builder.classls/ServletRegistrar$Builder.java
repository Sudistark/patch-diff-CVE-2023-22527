import com.atlassian.confluence.impl.webapp.ServletRegistrar;
import com.atlassian.confluence.impl.webapp.UrlPattern;
import com.atlassian.confluence.impl.webapp.UrlPatterns;
import java.util.Collection;
import java.util.LinkedHashMap;
import java.util.LinkedList;
import java.util.Map;
import javax.servlet.Servlet;

class Builder {
  private String servletName;
  
  private Class<? extends Servlet> servletClass;
  
  private final Map<String, String> initParams = new LinkedHashMap();
  
  private final Collection<ServletRegistrar.ServletMapping> mappings = new LinkedList();
  
  private Integer loadOnStartup;
  
  public Builder mapping(UrlPattern... urlPatterns) {
    this.mappings.add(new ServletRegistrar.ServletMapping(new UrlPatterns(urlPatterns)));
    return this;
  }
  
  public ServletRegistrar build() { return new ServletRegistrar(this.servletClass, this.servletName, this.loadOnStartup, this.initParams, this.mappings); }
  
  public Builder servletClass(Class<? extends Servlet> servletClass) {
    this.servletClass = servletClass;
    return this;
  }
  
  public Builder initParam(String name, String value) {
    this.initParams.put(name, value);
    return this;
  }
  
  public Builder servletName(String servletName) {
    this.servletName = servletName;
    return this;
  }
  
  public Builder loadOnStartup(int loadOnStartup) {
    this.loadOnStartup = Integer.valueOf(loadOnStartup);
    return this;
  }
}
