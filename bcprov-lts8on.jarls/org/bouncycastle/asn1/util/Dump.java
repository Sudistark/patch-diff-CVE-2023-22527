package org.bouncycastle.asn1.util;

import java.io.FileInputStream;
import org.bouncycastle.asn1.ASN1InputStream;

public class Dump {
  public static void main(String[] args) throws Exception {
    if (args.length < 1) {
      System.out.println("usage: Dump [-v] filename");
      System.exit(1);
    } 
    boolean verbose = false;
    int argsPos = 0;
    if (args.length > 1)
      verbose = "-v".equals(args[argsPos++]); 
    fIn = new FileInputStream(args[argsPos++]);
    try {
      ASN1InputStream bIn = new ASN1InputStream(fIn);
      Object obj;
      while ((obj = bIn.readObject()) != null)
        System.out.println(ASN1Dump.dumpAsString(obj, verbose)); 
    } finally {
      fIn.close();
    } 
  }
}
