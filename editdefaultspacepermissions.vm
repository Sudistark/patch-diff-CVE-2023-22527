#* @vtlvariable name="action" type="com.atlassian.confluence.security.actions.EditSpacePermissionDefaultsAction" *#
<html>
<head>
    <title>$action.getActionName($action.getClass().getName())</title>
    <content tag="selectedWebItem">defaultspaceperms</content>
</head>

<body>
#applyDecorator("root")
#decoratorParam("helper" $action.helper)
## use space.vmd if context starts with 'space-'. otherwise, the context string is the decorator name
#decoratorParam("context" "space-administration")
## a hack, if the mode does not start with 'create-', space tabs will be shown
#decoratorParam("mode"  "create-default-space-permissions")
#decoratorParam("infopanel-width" "200px")

<form action="doeditdefaultspacepermissions.action" name="editdefaultspacepermissions" method="POST" class="aui">
    #form_xsrfToken()
        <h2>$action.getText('admin.defaultspacepermissions.default.title')</h2>
        <p>
            $i18n.getText("admin.defaultspacepermissions.default.desc")
            $i18n.getText("admin.defaultspacepermissions.default.confadmingroup.info")
        </p>

        #set($a =  ["g"])
        #showPermissions( $a $action "true")

        <div style="margin:10px 0px">
            #scomponent("theme='custom'" "label='Grant browse permission to'" "name='groupsToAdd'" "template='textfield-and-picker.vm'"
                        "formName=editdefaultspacepermissions"
                        "fieldClass=autocomplete-group autocomplete-field"
                        "groupSearchActionName=dosearchgroupsfilterexisting.action"
                        "buttonOff=false"
                        "value=$selectedGroups"
                        "buttonName=groupsToAddButton"
                        "imgTitle=$action.getText('find.groups')"
                        "linkId=grouppicker-popup-link")
            #end

        </div>

        <div class="buttons">
            <input type=submit name="save" value="$action.getText('save.word')" class="aui-button">
            #ssubmit("name='cancel'" "value='cancel.name'" "theme='notable'" "cssClass='aui-button aui-button-link'")
        </div>
##        </div>
</form>

##parse ( "/spaces/space-operations.vm" )
#end
</body>

</html>
