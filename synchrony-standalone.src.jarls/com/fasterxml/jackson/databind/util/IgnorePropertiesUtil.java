package com.fasterxml.jackson.databind.util;

import java.util.Collection;
import java.util.HashSet;
import java.util.Set;

public class IgnorePropertiesUtil {
  public static boolean shouldIgnore(Object value, Collection<String> toIgnore, Collection<String> toInclude) {
    if (toIgnore == null && toInclude == null)
      return false; 
    if (toInclude == null)
      return toIgnore.contains(value); 
    if (toIgnore == null)
      return !toInclude.contains(value); 
    return (!toInclude.contains(value) || toIgnore.contains(value));
  }
  
  public static Checker buildCheckerIfNeeded(Set<String> toIgnore, Set<String> toInclude) {
    if (toInclude == null && (toIgnore == null || toIgnore.isEmpty()))
      return null; 
    return Checker.construct(toIgnore, toInclude);
  }
  
  public static Set<String> combineNamesToInclude(Set<String> prevToInclude, Set<String> newToInclude) {
    if (prevToInclude == null)
      return newToInclude; 
    if (newToInclude == null)
      return prevToInclude; 
    Set<String> result = new HashSet<String>();
    for (String prop : newToInclude) {
      if (prevToInclude.contains(prop))
        result.add(prop); 
    } 
    return result;
  }
}
