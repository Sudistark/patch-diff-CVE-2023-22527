package com.mysema.query.group;

import com.mysema.commons.lang.Pair;
import com.mysema.query.types.ConstructorExpression;
import com.mysema.query.types.Expression;

public final class QPair<K, V> extends ConstructorExpression<Pair<K, V>> {
  private static final long serialVersionUID = -1943990903548916056L;
  
  public static <K, V> QPair<K, V> create(Expression<K> key, Expression<V> value) { return new QPair(key, value); }
  
  public QPair(Expression<K> key, Expression<V> value) { super(Pair.class, new Class[] { Object.class, Object.class }, new Expression[] { key, value }); }
  
  public boolean equals(Expression<?> keyExpr, Expression<?> valueExpr) { return (((Expression)getArgs().get(0)).equals(keyExpr) && ((Expression)getArgs().get(1)).equals(valueExpr)); }
  
  public boolean equals(Expression<?> keyExpr, Class<?> valueType) { return (((Expression)getArgs().get(0)).equals(keyExpr) && valueType.isAssignableFrom(((Expression)getArgs().get(1)).getType())); }
}
