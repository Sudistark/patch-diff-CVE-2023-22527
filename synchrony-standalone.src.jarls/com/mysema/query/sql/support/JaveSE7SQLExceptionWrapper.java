package com.mysema.query.sql.support;

import com.mysema.query.QueryException;
import java.sql.SQLException;

class JaveSE7SQLExceptionWrapper extends SQLExceptionWrapper {
  public RuntimeException wrap(SQLException exception) {
    QueryException rv = new QueryException(exception);
    SQLException linkedException = exception.getNextException();
    while (linkedException != null) {
      rv.addSuppressed(linkedException);
      linkedException = linkedException.getNextException();
    } 
    return rv;
  }
  
  public RuntimeException wrap(String message, SQLException exception) {
    QueryException rv = new QueryException(message, exception);
    SQLException linkedException = exception.getNextException();
    while (linkedException != null) {
      rv.addSuppressed(linkedException);
      linkedException = linkedException.getNextException();
    } 
    return rv;
  }
}
