package com.mchange.v2.encounter;

import java.util.Map;

class AbstractEncounterCounter implements EncounterCounter {
  static final Long ONE = new Long(1L);
  
  Map m;
  
  AbstractEncounterCounter(Map paramMap) { this.m = paramMap; }
  
  public long encounter(Object paramObject) {
    long l;
    Long long2, long1 = (Long)this.m.get(paramObject);
    if (long1 == null) {
      l = 0L;
      long2 = ONE;
    } else {
      l = long1.longValue();
      long2 = new Long(l + 1L);
    } 
    this.m.put(paramObject, long2);
    return l;
  }
  
  public long reset(Object paramObject) {
    long l = encounter(paramObject);
    this.m.remove(paramObject);
    return l;
  }
  
  public void resetAll() { this.m.clear(); }
}
