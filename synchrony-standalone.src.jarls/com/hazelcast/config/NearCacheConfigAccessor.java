package com.hazelcast.config;

import com.hazelcast.spi.annotation.PrivateApi;

@PrivateApi
public final class NearCacheConfigAccessor {
  public static NearCacheConfig copyWithInitializedDefaultMaxSizeForOnHeapMaps(NearCacheConfig nearCacheConfig) {
    if (nearCacheConfig == null)
      return null; 
    EvictionConfig evictionConfig = nearCacheConfig.getEvictionConfig();
    if (nearCacheConfig.getInMemoryFormat() == InMemoryFormat.NATIVE || evictionConfig.sizeConfigured)
      return nearCacheConfig; 
    EvictionConfig copyEvictionConfig = (new EvictionConfig(evictionConfig)).setSize(2147483647);
    return (new NearCacheConfig(nearCacheConfig))
      .setEvictionConfig(copyEvictionConfig);
  }
}
