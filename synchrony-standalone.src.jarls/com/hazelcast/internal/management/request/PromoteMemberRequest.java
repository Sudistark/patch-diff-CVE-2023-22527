package com.hazelcast.internal.management.request;

import com.hazelcast.internal.json.JsonObject;
import com.hazelcast.internal.management.ManagementCenterService;

public class PromoteMemberRequest implements AsyncConsoleRequest {
  public int getType() { return 42; }
  
  public void writeResponse(ManagementCenterService mcs, JsonObject out) throws Exception {
    JsonObject result = new JsonObject();
    try {
      mcs.getHazelcastInstance().getCluster().promoteLocalLiteMember();
      result.add("success", true);
    } catch (IllegalStateException e) {
      result.add("success", false);
      result.add("message", e.getMessage());
    } 
    out.add("result", result);
  }
  
  public void fromJson(JsonObject json) {}
}
