package com.hazelcast.internal.metrics.metricsets;

import com.hazelcast.internal.metrics.MetricsRegistry;
import com.hazelcast.internal.metrics.ProbeLevel;
import com.hazelcast.util.Preconditions;
import java.lang.management.ManagementFactory;
import java.lang.management.ThreadMXBean;

public final class ThreadMetricSet {
  public static void register(MetricsRegistry metricsRegistry) {
    Preconditions.checkNotNull(metricsRegistry, "metricsRegistry");
    ThreadMXBean mxBean = ManagementFactory.getThreadMXBean();
    metricsRegistry.register(mxBean, "thread.threadCount", ProbeLevel.MANDATORY, new Object());
    metricsRegistry.register(mxBean, "thread.peakThreadCount", ProbeLevel.MANDATORY, new Object());
    metricsRegistry.register(mxBean, "thread.daemonThreadCount", ProbeLevel.MANDATORY, new Object());
    metricsRegistry.register(mxBean, "thread.totalStartedThreadCount", ProbeLevel.MANDATORY, new Object());
  }
}
