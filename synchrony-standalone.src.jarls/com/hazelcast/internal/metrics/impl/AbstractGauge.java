package com.hazelcast.internal.metrics.impl;

import com.hazelcast.internal.metrics.Metric;

abstract class AbstractGauge implements Metric {
  protected final MetricsRegistryImpl metricsRegistry;
  
  protected final String name;
  
  AbstractGauge(MetricsRegistryImpl metricsRegistry, String name) {
    this.metricsRegistry = metricsRegistry;
    this.name = name;
  }
  
  public String getName() { return this.name; }
  
  void clearProbeInstance() { this.probeInstance = null; }
  
  ProbeInstance getProbeInstance() {
    ProbeInstance probeInstance = this.probeInstance;
    if (probeInstance == null) {
      probeInstance = this.metricsRegistry.getProbeInstance(this.name);
      this.probeInstance = probeInstance;
    } 
    return probeInstance;
  }
}
