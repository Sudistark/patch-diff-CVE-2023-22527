package com.hazelcast.internal.ascii.memcache;

import com.hazelcast.internal.ascii.AbstractTextCommand;
import com.hazelcast.internal.ascii.TextCommandConstants;
import java.nio.ByteBuffer;

public class SimpleCommand extends AbstractTextCommand {
  private ByteBuffer response;
  
  public SimpleCommand(TextCommandConstants.TextCommandType type) { super(type); }
  
  public boolean readFrom(ByteBuffer src) { return true; }
  
  public void setResponse(byte[] value) { this.response = ByteBuffer.wrap(value); }
  
  public boolean writeTo(ByteBuffer dst) {
    while (dst.hasRemaining() && this.response.hasRemaining())
      dst.put(this.response.get()); 
    return !this.response.hasRemaining();
  }
  
  public String toString() {
    return "SimpleCommand [" + this.type + "]{" + '}' + super
      
      .toString();
  }
}
