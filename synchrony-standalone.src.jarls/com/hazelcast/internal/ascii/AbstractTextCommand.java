package com.hazelcast.internal.ascii;

import com.hazelcast.nio.ascii.TextDecoder;
import com.hazelcast.nio.ascii.TextEncoder;

public abstract class AbstractTextCommand implements TextCommand {
  protected final TextCommandConstants.TextCommandType type;
  
  private TextDecoder decoder;
  
  private TextEncoder encoder;
  
  private long requestId;
  
  protected AbstractTextCommand(TextCommandConstants.TextCommandType type) {
    this.requestId = -1L;
    this.type = type;
  }
  
  public int getFrameLength() { return 0; }
  
  public TextCommandConstants.TextCommandType getType() { return this.type; }
  
  public TextDecoder getDecoder() { return this.decoder; }
  
  public TextEncoder getEncoder() { return this.encoder; }
  
  public long getRequestId() { return this.requestId; }
  
  public void init(TextDecoder decoder, long requestId) {
    this.decoder = decoder;
    this.requestId = requestId;
    this.encoder = decoder.getEncoder();
  }
  
  public boolean isUrgent() { return false; }
  
  public boolean shouldReply() { return true; }
  
  public String toString() { return "AbstractTextCommand[" + this.type + "]{requestId=" + this.requestId + '}'; }
}
