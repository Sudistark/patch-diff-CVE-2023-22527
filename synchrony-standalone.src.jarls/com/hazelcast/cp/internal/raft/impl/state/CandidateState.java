package com.hazelcast.cp.internal.raft.impl.state;

import com.hazelcast.core.Endpoint;
import java.util.HashSet;
import java.util.Set;

public class CandidateState {
  private final int majority;
  
  private final Set<Endpoint> voters;
  
  CandidateState(int majority) {
    this.voters = new HashSet();
    this.majority = majority;
  }
  
  public boolean grantVote(Endpoint address) { return this.voters.add(address); }
  
  public int majority() { return this.majority; }
  
  public int voteCount() { return this.voters.size(); }
  
  public boolean isMajorityGranted() { return (voteCount() >= majority()); }
}
