package com.hazelcast.spi.impl.sequence;

public final class CallIdFactory {
  public static CallIdSequence newCallIdSequence(boolean isBackPressureEnabled, int maxAllowedConcurrentInvocations, long backoffTimeoutMs) {
    if (!isBackPressureEnabled)
      return new CallIdSequenceWithoutBackpressure(); 
    if (backoffTimeoutMs <= 0L)
      return new FailFastCallIdSequence(maxAllowedConcurrentInvocations); 
    return new CallIdSequenceWithBackpressure(maxAllowedConcurrentInvocations, backoffTimeoutMs);
  }
}
