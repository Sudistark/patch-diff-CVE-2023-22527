package com.hazelcast.logging;

import com.hazelcast.util.ConcurrencyUtil;
import com.hazelcast.util.ConstructorFunction;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;

public abstract class LoggerFactorySupport implements LoggerFactory {
  final ConcurrentMap<String, ILogger> mapLoggers = new ConcurrentHashMap(100);
  
  final ConstructorFunction<String, ILogger> loggerConstructor = new Object(this);
  
  public final ILogger getLogger(String name) { return (ILogger)ConcurrencyUtil.getOrPutIfAbsent(this.mapLoggers, name, this.loggerConstructor); }
  
  protected abstract ILogger createLogger(String paramString);
  
  public void clearLoadedLoggers() { this.mapLoggers.clear(); }
}
