package org.bouncycastle.tsp.ers;

import java.util.HashMap;
import java.util.Map;
import org.bouncycastle.asn1.x509.AlgorithmIdentifier;
import org.bouncycastle.operator.DigestCalculator;

public abstract class ERSCachingData implements ERSData {
  private Map<AlgorithmIdentifier, byte[]> preCalcs = new HashMap();
  
  public byte[] getHash(DigestCalculator paramDigestCalculator) {
    AlgorithmIdentifier algorithmIdentifier = paramDigestCalculator.getAlgorithmIdentifier();
    if (this.preCalcs.containsKey(algorithmIdentifier))
      return (byte[])this.preCalcs.get(algorithmIdentifier); 
    byte[] arrayOfByte = calculateHash(paramDigestCalculator);
    this.preCalcs.put(algorithmIdentifier, arrayOfByte);
    return arrayOfByte;
  }
  
  protected abstract byte[] calculateHash(DigestCalculator paramDigestCalculator);
}
