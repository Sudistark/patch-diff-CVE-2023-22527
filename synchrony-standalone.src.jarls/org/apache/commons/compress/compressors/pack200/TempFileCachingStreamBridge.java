package org.apache.commons.compress.compressors.pack200;

import java.io.IOException;
import java.io.InputStream;
import java.nio.file.Files;
import java.nio.file.Path;

class TempFileCachingStreamBridge extends AbstractStreamBridge {
  private final Path f;
  
  TempFileCachingStreamBridge() throws IOException {
    this.f = Files.createTempFile("commons-compress", "packtemp", new java.nio.file.attribute.FileAttribute[0]);
    this.f.toFile().deleteOnExit();
    this.out = Files.newOutputStream(this.f, new java.nio.file.OpenOption[0]);
  }
  
  InputStream getInputView() throws IOException {
    this.out.close();
    return new Object(this, Files.newInputStream(this.f, new java.nio.file.OpenOption[0]));
  }
}
