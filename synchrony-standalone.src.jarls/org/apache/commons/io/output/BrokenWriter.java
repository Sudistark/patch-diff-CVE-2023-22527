package org.apache.commons.io.output;

import java.io.IOException;
import java.io.Writer;
import java.util.function.Supplier;

public class BrokenWriter extends Writer {
  public static final BrokenWriter INSTANCE = new BrokenWriter();
  
  private final Supplier<IOException> exceptionSupplier;
  
  public BrokenWriter() { this(() -> new IOException("Broken writer")); }
  
  public BrokenWriter(IOException exception) { this(() -> exception); }
  
  public BrokenWriter(Supplier<IOException> exceptionSupplier) { this.exceptionSupplier = exceptionSupplier; }
  
  public void close() { throw (IOException)this.exceptionSupplier.get(); }
  
  public void flush() { throw (IOException)this.exceptionSupplier.get(); }
  
  public void write(char[] cbuf, int off, int len) throws IOException { throw (IOException)this.exceptionSupplier.get(); }
}
