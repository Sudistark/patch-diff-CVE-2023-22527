package org.apache.commons.io.input;

import java.io.IOException;
import java.io.InputStream;
import java.util.function.Supplier;

public class BrokenInputStream extends InputStream {
  public static final BrokenInputStream INSTANCE = new BrokenInputStream();
  
  private final Supplier<IOException> exceptionSupplier;
  
  public BrokenInputStream() { this(() -> new IOException("Broken input stream")); }
  
  public BrokenInputStream(IOException exception) { this(() -> exception); }
  
  public BrokenInputStream(Supplier<IOException> exceptionSupplier) { this.exceptionSupplier = exceptionSupplier; }
  
  public int available() throws IOException { throw (IOException)this.exceptionSupplier.get(); }
  
  public void close() { throw (IOException)this.exceptionSupplier.get(); }
  
  public int read() throws IOException { throw (IOException)this.exceptionSupplier.get(); }
  
  public void reset() { throw (IOException)this.exceptionSupplier.get(); }
  
  public long skip(long n) throws IOException { throw (IOException)this.exceptionSupplier.get(); }
}
