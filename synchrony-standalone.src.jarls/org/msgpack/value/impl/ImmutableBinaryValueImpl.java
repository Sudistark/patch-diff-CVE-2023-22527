package org.msgpack.value.impl;

import java.io.IOException;
import java.util.Arrays;
import org.msgpack.core.MessagePacker;
import org.msgpack.value.BinaryValue;
import org.msgpack.value.ImmutableBinaryValue;
import org.msgpack.value.ImmutableValue;
import org.msgpack.value.Value;
import org.msgpack.value.ValueType;

public class ImmutableBinaryValueImpl extends AbstractImmutableRawValue implements ImmutableBinaryValue {
  public ImmutableBinaryValueImpl(byte[] paramArrayOfByte) { super(paramArrayOfByte); }
  
  public ValueType getValueType() { return ValueType.BINARY; }
  
  public ImmutableBinaryValue immutableValue() { return this; }
  
  public ImmutableBinaryValue asBinaryValue() { return this; }
  
  public void writeTo(MessagePacker paramMessagePacker) throws IOException {
    paramMessagePacker.packBinaryHeader(this.data.length);
    paramMessagePacker.writePayload(this.data);
  }
  
  public boolean equals(Object paramObject) {
    if (this == paramObject)
      return true; 
    if (!(paramObject instanceof Value))
      return false; 
    Value value = (Value)paramObject;
    if (!value.isBinaryValue())
      return false; 
    if (value instanceof ImmutableBinaryValueImpl) {
      ImmutableBinaryValueImpl immutableBinaryValueImpl = (ImmutableBinaryValueImpl)value;
      return Arrays.equals(this.data, immutableBinaryValueImpl.data);
    } 
    return Arrays.equals(this.data, value.asBinaryValue().asByteArray());
  }
  
  public int hashCode() { return Arrays.hashCode(this.data); }
}
