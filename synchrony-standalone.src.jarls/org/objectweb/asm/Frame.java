package org.objectweb.asm;

final class Frame {
  static final int[] a;
  
  Label b;
  
  int[] c;
  
  int[] d;
  
  private int[] e;
  
  private int[] f;
  
  private int g;
  
  private int h;
  
  private int[] i;
  
  private int a(int paramInt) {
    if (this.e == null || paramInt >= this.e.length)
      return 0x2000000 | paramInt; 
    int j = this.e[paramInt];
    if (j == 0)
      j = this.e[paramInt] = 0x2000000 | paramInt; 
    return j;
  }
  
  private void a(int paramInt1, int paramInt2) {
    if (this.e == null)
      this.e = new int[10]; 
    int j = this.e.length;
    if (paramInt1 >= j) {
      int[] arrayOfInt = new int[Math.max(paramInt1 + 1, 2 * j)];
      System.arraycopy(this.e, 0, arrayOfInt, 0, j);
      this.e = arrayOfInt;
    } 
    this.e[paramInt1] = paramInt2;
  }
  
  private void b(int paramInt) {
    if (this.f == null)
      this.f = new int[10]; 
    int j = this.f.length;
    if (this.g >= j) {
      int[] arrayOfInt = new int[Math.max(this.g + 1, 2 * j)];
      System.arraycopy(this.f, 0, arrayOfInt, 0, j);
      this.f = arrayOfInt;
    } 
    this.f[this.g++] = paramInt;
    int k = this.b.f + this.g;
    if (k > this.b.g)
      this.b.g = k; 
  }
  
  private void a(ClassWriter paramClassWriter, String paramString) {
    int j = b(paramClassWriter, paramString);
    if (j != 0) {
      b(j);
      if (j == 16777220 || j == 16777219)
        b(16777216); 
    } 
  }
  
  private static int b(ClassWriter paramClassWriter, String paramString) {
    int j = (paramString.charAt(0) == '(') ? (paramString.indexOf(')') + 1) : 0;
    switch (paramString.charAt(j)) {
      case 'V':
        return 0;
      case 'B':
      case 'C':
      case 'I':
      case 'S':
      case 'Z':
        return 16777217;
      case 'F':
        return 16777218;
      case 'J':
        return 16777220;
      case 'D':
        return 16777219;
      case 'L':
        str = paramString.substring(j + 1, paramString.length() - 1);
        return 0x1700000 | paramClassWriter.c(str);
    } 
    int k;
    for (k = j + 1; paramString.charAt(k) == '['; k++);
    switch (paramString.charAt(k)) {
      case 'Z':
        m = 16777225;
        return k - j << 28 | m;
      case 'C':
        m = 16777227;
        return k - j << 28 | m;
      case 'B':
        m = 16777226;
        return k - j << 28 | m;
      case 'S':
        m = 16777228;
        return k - j << 28 | m;
      case 'I':
        m = 16777217;
        return k - j << 28 | m;
      case 'F':
        m = 16777218;
        return k - j << 28 | m;
      case 'J':
        m = 16777220;
        return k - j << 28 | m;
      case 'D':
        m = 16777219;
        return k - j << 28 | m;
    } 
    String str = paramString.substring(k + 1, paramString.length() - 1);
    int m = 0x1700000 | paramClassWriter.c(str);
    return k - j << 28 | m;
  }
  
  private int a() { return (this.g > 0) ? this.f[--this.g] : (0x3000000 | ---this.b.f); }
  
  private void c(int paramInt) {
    if (this.g >= paramInt) {
      this.g -= paramInt;
    } else {
      this.b.f -= paramInt - this.g;
      this.g = 0;
    } 
  }
  
  private void a(String paramString) {
    char c1 = paramString.charAt(0);
    if (c1 == '(') {
      c((Type.getArgumentsAndReturnSizes(paramString) >> 2) - 1);
    } else if (c1 == 'J' || c1 == 'D') {
      c(2);
    } else {
      c(1);
    } 
  }
  
  private void d(int paramInt) {
    if (this.i == null)
      this.i = new int[2]; 
    int j = this.i.length;
    if (this.h >= j) {
      int[] arrayOfInt = new int[Math.max(this.h + 1, 2 * j)];
      System.arraycopy(this.i, 0, arrayOfInt, 0, j);
      this.i = arrayOfInt;
    } 
    this.i[this.h++] = paramInt;
  }
  
  private int a(ClassWriter paramClassWriter, int paramInt) {
    int j;
    if (paramInt == 16777222) {
      j = 0x1700000 | paramClassWriter.c(paramClassWriter.I);
    } else if ((paramInt & 0xFFF00000) == 25165824) {
      String str = (paramClassWriter.H[paramInt & 0xFFFFF]).g;
      j = 0x1700000 | paramClassWriter.c(str);
    } else {
      return paramInt;
    } 
    for (byte b1 = 0; b1 < this.h; b1++) {
      int k = this.i[b1];
      int m = k & 0xF0000000;
      int n = k & 0xF000000;
      if (n == 33554432) {
        k = m + this.c[k & 0x7FFFFF];
      } else if (n == 50331648) {
        k = m + this.d[this.d.length - (k & 0x7FFFFF)];
      } 
      if (paramInt == k)
        return j; 
    } 
    return paramInt;
  }
  
  void a(ClassWriter paramClassWriter, int paramInt1, Type[] paramArrayOfType, int paramInt2) {
    this.c = new int[paramInt2];
    this.d = new int[0];
    byte b1 = 0;
    if ((paramInt1 & 0x8) == 0)
      if ((paramInt1 & 0x80000) == 0) {
        this.c[b1++] = 0x1700000 | paramClassWriter.c(paramClassWriter.I);
      } else {
        this.c[b1++] = 16777222;
      }  
    for (byte b2 = 0; b2 < paramArrayOfType.length; b2++) {
      int j = b(paramClassWriter, paramArrayOfType[b2].getDescriptor());
      this.c[b1++] = j;
      if (j == 16777220 || j == 16777219)
        this.c[b1++] = 16777216; 
    } 
    while (b1 < paramInt2)
      this.c[b1++] = 16777216; 
  }
  
  void a(int paramInt1, int paramInt2, ClassWriter paramClassWriter, Item paramItem) {
    String str;
    int n;
    int m;
    int k;
    int j;
    switch (paramInt1) {
      case 0:
      case 116:
      case 117:
      case 118:
      case 119:
      case 145:
      case 146:
      case 147:
      case 167:
      case 177:
        return;
      case 1:
        b(16777221);
      case 2:
      case 3:
      case 4:
      case 5:
      case 6:
      case 7:
      case 8:
      case 16:
      case 17:
      case 21:
        b(16777217);
      case 9:
      case 10:
      case 22:
        b(16777220);
        b(16777216);
      case 11:
      case 12:
      case 13:
      case 23:
        b(16777218);
      case 14:
      case 15:
      case 24:
        b(16777219);
        b(16777216);
      case 18:
        switch (paramItem.b) {
          case 3:
            b(16777217);
          case 5:
            b(16777220);
            b(16777216);
          case 4:
            b(16777218);
          case 6:
            b(16777219);
            b(16777216);
          case 7:
            b(0x1700000 | paramClassWriter.c("java/lang/Class"));
          case 8:
            b(0x1700000 | paramClassWriter.c("java/lang/String"));
          case 16:
            b(0x1700000 | paramClassWriter.c("java/lang/invoke/MethodType"));
        } 
        b(0x1700000 | paramClassWriter.c("java/lang/invoke/MethodHandle"));
      case 25:
        b(a(paramInt2));
      case 46:
      case 51:
      case 52:
      case 53:
        c(2);
        b(16777217);
      case 47:
      case 143:
        c(2);
        b(16777220);
        b(16777216);
      case 48:
        c(2);
        b(16777218);
      case 49:
      case 138:
        c(2);
        b(16777219);
        b(16777216);
      case 50:
        c(1);
        j = a();
        b(-268435456 + j);
      case 54:
      case 56:
      case 58:
        j = a();
        a(paramInt2, j);
        if (paramInt2 > 0) {
          int i1 = a(paramInt2 - 1);
          if (i1 == 16777220 || i1 == 16777219) {
            a(paramInt2 - 1, 16777216);
          } else if ((i1 & 0xF000000) != 16777216) {
            a(paramInt2 - 1, i1 | 0x800000);
          } 
        } 
      case 55:
      case 57:
        c(1);
        j = a();
        a(paramInt2, j);
        a(paramInt2 + 1, 16777216);
        if (paramInt2 > 0) {
          int i1 = a(paramInt2 - 1);
          if (i1 == 16777220 || i1 == 16777219) {
            a(paramInt2 - 1, 16777216);
          } else if ((i1 & 0xF000000) != 16777216) {
            a(paramInt2 - 1, i1 | 0x800000);
          } 
        } 
      case 79:
      case 81:
      case 83:
      case 84:
      case 85:
      case 86:
        c(3);
      case 80:
      case 82:
        c(4);
      case 87:
      case 153:
      case 154:
      case 155:
      case 156:
      case 157:
      case 158:
      case 170:
      case 171:
      case 172:
      case 174:
      case 176:
      case 191:
      case 194:
      case 195:
      case 198:
      case 199:
        c(1);
      case 88:
      case 159:
      case 160:
      case 161:
      case 162:
      case 163:
      case 164:
      case 165:
      case 166:
      case 173:
      case 175:
        c(2);
      case 89:
        j = a();
        b(j);
        b(j);
      case 90:
        j = a();
        k = a();
        b(j);
        b(k);
        b(j);
      case 91:
        j = a();
        k = a();
        m = a();
        b(j);
        b(m);
        b(k);
        b(j);
      case 92:
        j = a();
        k = a();
        b(k);
        b(j);
        b(k);
        b(j);
      case 93:
        j = a();
        k = a();
        m = a();
        b(k);
        b(j);
        b(m);
        b(k);
        b(j);
      case 94:
        j = a();
        k = a();
        m = a();
        n = a();
        b(k);
        b(j);
        b(n);
        b(m);
        b(k);
        b(j);
      case 95:
        j = a();
        k = a();
        b(j);
        b(k);
      case 96:
      case 100:
      case 104:
      case 108:
      case 112:
      case 120:
      case 122:
      case 124:
      case 126:
      case 128:
      case 130:
      case 136:
      case 142:
      case 149:
      case 150:
        c(2);
        b(16777217);
      case 97:
      case 101:
      case 105:
      case 109:
      case 113:
      case 127:
      case 129:
      case 131:
        c(4);
        b(16777220);
        b(16777216);
      case 98:
      case 102:
      case 106:
      case 110:
      case 114:
      case 137:
      case 144:
        c(2);
        b(16777218);
      case 99:
      case 103:
      case 107:
      case 111:
      case 115:
        c(4);
        b(16777219);
        b(16777216);
      case 121:
      case 123:
      case 125:
        c(3);
        b(16777220);
        b(16777216);
      case 132:
        a(paramInt2, 16777217);
      case 133:
      case 140:
        c(1);
        b(16777220);
        b(16777216);
      case 134:
        c(1);
        b(16777218);
      case 135:
      case 141:
        c(1);
        b(16777219);
        b(16777216);
      case 139:
      case 190:
      case 193:
        c(1);
        b(16777217);
      case 148:
      case 151:
      case 152:
        c(4);
        b(16777217);
      case 168:
      case 169:
        throw new RuntimeException("JSR/RET are not supported with computeFrames option");
      case 178:
        a(paramClassWriter, paramItem.i);
      case 179:
        a(paramItem.i);
      case 180:
        c(1);
        a(paramClassWriter, paramItem.i);
      case 181:
        a(paramItem.i);
        a();
      case 182:
      case 183:
      case 184:
      case 185:
        a(paramItem.i);
        if (paramInt1 != 184) {
          j = a();
          if (paramInt1 == 183 && paramItem.h.charAt(0) == '<')
            d(j); 
        } 
        a(paramClassWriter, paramItem.i);
      case 186:
        a(paramItem.h);
        a(paramClassWriter, paramItem.h);
      case 187:
        b(0x1800000 | paramClassWriter.a(paramItem.g, paramInt2));
      case 188:
        a();
        switch (paramInt2) {
          case 4:
            b(285212681);
          case 5:
            b(285212683);
          case 8:
            b(285212682);
          case 9:
            b(285212684);
          case 10:
            b(285212673);
          case 6:
            b(285212674);
          case 7:
            b(285212675);
        } 
        b(285212676);
      case 189:
        str = paramItem.g;
        a();
        if (str.charAt(0) == '[') {
          a(paramClassWriter, '[' + str);
        } else {
          b(0x11700000 | paramClassWriter.c(str));
        } 
      case 192:
        str = paramItem.g;
        a();
        if (str.charAt(0) == '[') {
          a(paramClassWriter, str);
        } else {
          b(0x1700000 | paramClassWriter.c(str));
        } 
    } 
    c(paramInt2);
    a(paramClassWriter, paramItem.g);
  }
  
  boolean a(ClassWriter paramClassWriter, Frame paramFrame, int paramInt) {
    null = false;
    int j = this.c.length;
    int k = this.d.length;
    if (paramFrame.c == null) {
      paramFrame.c = new int[j];
      null = true;
    } 
    int m;
    for (m = 0; m < j; m++) {
      int i1;
      if (this.e != null && m < this.e.length) {
        int i2 = this.e[m];
        if (i2 == 0) {
          i1 = this.c[m];
        } else {
          int i3 = i2 & 0xF0000000;
          int i4 = i2 & 0xF000000;
          if (i4 == 16777216) {
            i1 = i2;
          } else {
            if (i4 == 33554432) {
              i1 = i3 + this.c[i2 & 0x7FFFFF];
            } else {
              i1 = i3 + this.d[k - (i2 & 0x7FFFFF)];
            } 
            if ((i2 & 0x800000) != 0 && (i1 == 16777220 || i1 == 16777219))
              i1 = 16777216; 
          } 
        } 
      } else {
        i1 = this.c[m];
      } 
      if (this.i != null)
        i1 = a(paramClassWriter, i1); 
      null |= a(paramClassWriter, i1, paramFrame.c, m);
    } 
    if (paramInt > 0) {
      for (m = 0; m < j; m++) {
        int i1 = this.c[m];
        null |= a(paramClassWriter, i1, paramFrame.c, m);
      } 
      if (paramFrame.d == null) {
        paramFrame.d = new int[1];
        null = true;
      } 
      return a(paramClassWriter, paramInt, paramFrame.d, 0);
    } 
    int n = this.d.length + this.b.f;
    if (paramFrame.d == null) {
      paramFrame.d = new int[n + this.g];
      null = true;
    } 
    for (m = 0; m < n; m++) {
      int i1 = this.d[m];
      if (this.i != null)
        i1 = a(paramClassWriter, i1); 
      null |= a(paramClassWriter, i1, paramFrame.d, m);
    } 
    for (m = 0; m < this.g; m++) {
      int i2;
      int i1 = this.f[m];
      int i3 = i1 & 0xF0000000;
      int i4 = i1 & 0xF000000;
      if (i4 == 16777216) {
        i2 = i1;
      } else {
        if (i4 == 33554432) {
          i2 = i3 + this.c[i1 & 0x7FFFFF];
        } else {
          i2 = i3 + this.d[k - (i1 & 0x7FFFFF)];
        } 
        if ((i1 & 0x800000) != 0 && (i2 == 16777220 || i2 == 16777219))
          i2 = 16777216; 
      } 
      if (this.i != null)
        i2 = a(paramClassWriter, i2); 
      null |= a(paramClassWriter, i2, paramFrame.d, n + m);
    } 
    return null;
  }
  
  private static boolean a(ClassWriter paramClassWriter, int paramInt1, int[] paramArrayOfInt, int paramInt2) {
    int k;
    int j = paramArrayOfInt[paramInt2];
    if (j == paramInt1)
      return false; 
    if ((paramInt1 & 0xFFFFFFF) == 16777221) {
      if (j == 16777221)
        return false; 
      paramInt1 = 16777221;
    } 
    if (j == 0) {
      paramArrayOfInt[paramInt2] = paramInt1;
      return true;
    } 
    if ((j & 0xFF00000) == 24117248 || (j & 0xF0000000) != 0) {
      if (paramInt1 == 16777221)
        return false; 
      if ((paramInt1 & 0xFFF00000) == (j & 0xFFF00000)) {
        if ((j & 0xFF00000) == 24117248) {
          k = paramInt1 & 0xF0000000 | 0x1700000 | paramClassWriter.a(paramInt1 & 0xFFFFF, j & 0xFFFFF);
        } else {
          k = 0x1700000 | paramClassWriter.c("java/lang/Object");
        } 
      } else if ((paramInt1 & 0xFF00000) == 24117248 || (paramInt1 & 0xF0000000) != 0) {
        k = 0x1700000 | paramClassWriter.c("java/lang/Object");
      } else {
        k = 16777216;
      } 
    } else if (j == 16777221) {
      k = ((paramInt1 & 0xFF00000) == 24117248 || (paramInt1 & 0xF0000000) != 0) ? paramInt1 : 16777216;
    } else {
      k = 16777216;
    } 
    if (j != k) {
      paramArrayOfInt[paramInt2] = k;
      return true;
    } 
    return false;
  }
  
  static  {
    int[] arrayOfInt = new int[202];
    String str = "EFFFFFFFFGGFFFGGFFFEEFGFGFEEEEEEEEEEEEEEEEEEEEDEDEDDDDDCDCDEEEEEEEEEEEEEEEEEEEEBABABBBBDCFFFGGGEDCDCDCDCDCDCDCDCDCDCEEEEDDDDDDDCDCDCEFEFDDEEFFDEDEEEBDDBBDDDDDDCCCCCCCCEFEDDDCDCDEEEEEEEEEEFEEEEEEDDEEDDEE";
    for (byte b1 = 0; b1 < arrayOfInt.length; b1++)
      arrayOfInt[b1] = str.charAt(b1) - 'E'; 
    a = arrayOfInt;
  }
}
