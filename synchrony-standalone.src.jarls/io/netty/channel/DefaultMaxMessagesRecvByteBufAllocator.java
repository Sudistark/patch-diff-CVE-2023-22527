package io.netty.channel;

import io.netty.util.internal.ObjectUtil;

public abstract class DefaultMaxMessagesRecvByteBufAllocator implements MaxMessagesRecvByteBufAllocator {
  private final boolean ignoreBytesRead;
  
  public DefaultMaxMessagesRecvByteBufAllocator() { this(1); }
  
  public DefaultMaxMessagesRecvByteBufAllocator(int maxMessagesPerRead) { this(maxMessagesPerRead, false); }
  
  DefaultMaxMessagesRecvByteBufAllocator(int maxMessagesPerRead, boolean ignoreBytesRead) {
    this.respectMaybeMoreData = true;
    this.ignoreBytesRead = ignoreBytesRead;
    maxMessagesPerRead(maxMessagesPerRead);
  }
  
  public int maxMessagesPerRead() { return this.maxMessagesPerRead; }
  
  public MaxMessagesRecvByteBufAllocator maxMessagesPerRead(int maxMessagesPerRead) {
    ObjectUtil.checkPositive(maxMessagesPerRead, "maxMessagesPerRead");
    this.maxMessagesPerRead = maxMessagesPerRead;
    return this;
  }
  
  public DefaultMaxMessagesRecvByteBufAllocator respectMaybeMoreData(boolean respectMaybeMoreData) {
    this.respectMaybeMoreData = respectMaybeMoreData;
    return this;
  }
  
  public final boolean respectMaybeMoreData() { return this.respectMaybeMoreData; }
}
