package io.netty.handler.codec.http.websocketx;

import io.netty.util.internal.ObjectUtil;

public final class WebSocketServerProtocolConfig {
  static final long DEFAULT_HANDSHAKE_TIMEOUT_MILLIS = 10000L;
  
  private final String websocketPath;
  
  private final String subprotocols;
  
  private final boolean checkStartsWith;
  
  private final long handshakeTimeoutMillis;
  
  private final long forceCloseTimeoutMillis;
  
  private final boolean handleCloseFrames;
  
  private final WebSocketCloseStatus sendCloseFrame;
  
  private final boolean dropPongFrames;
  
  private final WebSocketDecoderConfig decoderConfig;
  
  private WebSocketServerProtocolConfig(String websocketPath, String subprotocols, boolean checkStartsWith, long handshakeTimeoutMillis, long forceCloseTimeoutMillis, boolean handleCloseFrames, WebSocketCloseStatus sendCloseFrame, boolean dropPongFrames, WebSocketDecoderConfig decoderConfig) {
    this.websocketPath = websocketPath;
    this.subprotocols = subprotocols;
    this.checkStartsWith = checkStartsWith;
    this.handshakeTimeoutMillis = ObjectUtil.checkPositive(handshakeTimeoutMillis, "handshakeTimeoutMillis");
    this.forceCloseTimeoutMillis = forceCloseTimeoutMillis;
    this.handleCloseFrames = handleCloseFrames;
    this.sendCloseFrame = sendCloseFrame;
    this.dropPongFrames = dropPongFrames;
    this.decoderConfig = (decoderConfig == null) ? WebSocketDecoderConfig.DEFAULT : decoderConfig;
  }
  
  public String websocketPath() { return this.websocketPath; }
  
  public String subprotocols() { return this.subprotocols; }
  
  public boolean checkStartsWith() { return this.checkStartsWith; }
  
  public long handshakeTimeoutMillis() { return this.handshakeTimeoutMillis; }
  
  public long forceCloseTimeoutMillis() { return this.forceCloseTimeoutMillis; }
  
  public boolean handleCloseFrames() { return this.handleCloseFrames; }
  
  public WebSocketCloseStatus sendCloseFrame() { return this.sendCloseFrame; }
  
  public boolean dropPongFrames() { return this.dropPongFrames; }
  
  public WebSocketDecoderConfig decoderConfig() { return this.decoderConfig; }
  
  public String toString() { return "WebSocketServerProtocolConfig {websocketPath=" + this.websocketPath + ", subprotocols=" + this.subprotocols + ", checkStartsWith=" + this.checkStartsWith + ", handshakeTimeoutMillis=" + this.handshakeTimeoutMillis + ", forceCloseTimeoutMillis=" + this.forceCloseTimeoutMillis + ", handleCloseFrames=" + this.handleCloseFrames + ", sendCloseFrame=" + this.sendCloseFrame + ", dropPongFrames=" + this.dropPongFrames + ", decoderConfig=" + this.decoderConfig + "}"; }
  
  public Builder toBuilder() { return new Builder(this, null); }
  
  public static Builder newBuilder() { return new Builder("/", null, false, 10000L, 0L, true, WebSocketCloseStatus.NORMAL_CLOSURE, true, WebSocketDecoderConfig.DEFAULT, null); }
}
