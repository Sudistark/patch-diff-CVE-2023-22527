package manifold.deferred;

import clojure.lang.IBlockingDeref;
import clojure.lang.IDeref;
import clojure.lang.IFn;
import clojure.lang.IObj;
import clojure.lang.IPending;
import clojure.lang.IPersistentMap;
import clojure.lang.IPersistentVector;
import clojure.lang.IReference;
import clojure.lang.ISeq;
import clojure.lang.IType;
import clojure.lang.Keyword;
import clojure.lang.RT;
import clojure.lang.Symbol;
import clojure.lang.Util;
import clojure.lang.Var;
import java.util.LinkedList;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.locks.Lock;

public final class Deferred implements IMutableDeferred, IPending, IBlockingDeref, IDeferred, IReference, IDeref, IFn, IType {
  public final Object lock;
  
  public final Object listeners;
  
  public final Object executor;
  
  public static final Var const__0 = (Var)RT.var("clojure.core", "apply");
  
  public static final Var const__1 = (Var)RT.var("clojure.core", "identical?");
  
  public static final Keyword const__2 = (Keyword)RT.keyword("manifold.deferred", "unset");
  
  public static final Keyword const__3 = (Keyword)RT.keyword("manifold.deferred", "claimed");
  
  public static final Keyword const__4 = (Keyword)RT.keyword("manifold.deferred", "success");
  
  public static final Keyword const__5 = (Keyword)RT.keyword("manifold.deferred", "error");
  
  public static final Keyword const__6 = (Keyword)RT.keyword("manifold.deferred", "set");
  
  public static final Var const__7 = (Var)RT.var("manifold.deferred", "success!");
  
  public static final Var const__8 = (Var)RT.var("manifold.deferred", "add-listener!");
  
  public static final Var const__9 = (Var)RT.var("manifold.deferred", "listener");
  
  public static final Var const__13 = (Var)RT.var("clojure.core", "ex-info");
  
  public static final Keyword const__14 = (Keyword)RT.keyword(null, "error");
  
  public Deferred(Object paramObject1, Object paramObject2, Object paramObject3, Object paramObject4, Object paramObject5, Object paramObject6, Object paramObject7, Object paramObject8) { this.val = paramObject1;
    this.state = paramObject2;
    this.claim_token = paramObject3;
    this.lock = paramObject4;
    this.listeners = paramObject5;
    this.mta = paramObject6;
    this.consumed_QMARK_ = paramObject7;
    this.executor = paramObject8; }
  
  public static IPersistentVector getBasis() { return RT.vector(new Object[] { ((IObj)Symbol.intern(null, "val")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "volatile-mutable"), Boolean.TRUE })), ((IObj)Symbol.intern(null, "state")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "volatile-mutable"), Boolean.TRUE })), ((IObj)Symbol.intern(null, "claim-token")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "volatile-mutable"), Boolean.TRUE })), ((IObj)Symbol.intern(null, "lock")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "tag"), Symbol.intern(null, "Lock") })), ((IObj)Symbol.intern(null, "listeners")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "tag"), Symbol.intern(null, "LinkedList") })), ((IObj)Symbol.intern(null, "mta")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "volatile-mutable"), Boolean.TRUE })), ((IObj)Symbol.intern(null, "consumed?")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "volatile-mutable"), Boolean.TRUE })), ((IObj)Symbol.intern(null, "executor")).withMeta((IPersistentMap)RT.map(new Object[] { RT.keyword(null, "tag"), Symbol.intern(null, "Executor") })) }); }
  
  public Object deref(long time, Object paramObject) {
    this.consumed_QMARK_ = Boolean.TRUE;
    Object pred__15323 = const__1.getRawRoot(), expr__15324 = this.state;
    if (((IFn)pred__15323).invoke(const__4, expr__15324) != null) {
      if (((IFn)pred__15323).invoke(const__4, expr__15324) != Boolean.FALSE);
    } else {
      ((IFn)pred__15323).invoke(const__4, expr__15324);
    } 
    pred__15323 = null;
    expr__15324 = null;
    if (((IFn)pred__15323).invoke(const__5, expr__15324) != null) {
      if (((IFn)pred__15323).invoke(const__5, expr__15324) != Boolean.FALSE) {
        if (this.val instanceof Throwable)
          throw (Throwable)this.val; 
        throw (Throwable)((IFn)const__13.getRawRoot()).invoke("", RT.mapUniqueKeys(new Object[] { const__14, this.val }));
      } 
    } else {
      ((IFn)pred__15323).invoke(const__5, expr__15324);
    } 
    Object latch15322 = new CountDownLatch(RT.uncheckedIntCast(1L)), f__15171__auto__15330 = new f__15171__auto____15325(latch15322), x__15114__auto__15328 = this;
    f__15171__auto__15330 = null;
    ((IDeferred)x__15114__auto__15328).onRealized(f__15171__auto__15330, f__15171__auto__15330);
    latch15322 = null;
    boolean result__15173__auto__15329 = ((CountDownLatch)latch15322).await(time, (TimeUnit)TimeUnit.MILLISECONDS);
    if (result__15173__auto__15329) {
      if (Util.identical(const__4, this.state)) {
      
      } else {
        if (this.val instanceof Throwable)
          throw (Throwable)this.val; 
        throw (Throwable)((IFn)const__13.getRawRoot()).invoke("", RT.mapUniqueKeys(new Object[] { const__14, this.val }));
      } 
    } else {
      paramObject = null;
    } 
    return paramObject;
  }
  
  public Object deref() { // Byte code:
    //   0: aload_0
    //   1: getstatic java/lang/Boolean.TRUE : Ljava/lang/Boolean;
    //   4: putfield consumed_QMARK_ : Ljava/lang/Object;
    //   7: getstatic manifold/deferred/Deferred.const__1 : Lclojure/lang/Var;
    //   10: invokevirtual getRawRoot : ()Ljava/lang/Object;
    //   13: astore_1
    //   14: aload_0
    //   15: getfield state : Ljava/lang/Object;
    //   18: astore_2
    //   19: aload_1
    //   20: checkcast clojure/lang/IFn
    //   23: getstatic manifold/deferred/Deferred.const__4 : Lclojure/lang/Keyword;
    //   26: aload_2
    //   27: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   32: dup
    //   33: ifnull -> 49
    //   36: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   39: if_acmpeq -> 50
    //   42: aload_0
    //   43: getfield val : Ljava/lang/Object;
    //   46: goto -> 305
    //   49: pop
    //   50: aload_1
    //   51: aconst_null
    //   52: astore_1
    //   53: checkcast clojure/lang/IFn
    //   56: getstatic manifold/deferred/Deferred.const__5 : Lclojure/lang/Keyword;
    //   59: aload_2
    //   60: aconst_null
    //   61: astore_2
    //   62: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   67: dup
    //   68: ifnull -> 142
    //   71: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   74: if_acmpeq -> 143
    //   77: aload_0
    //   78: getfield val : Ljava/lang/Object;
    //   81: instanceof java/lang/Throwable
    //   84: ifeq -> 99
    //   87: aload_0
    //   88: getfield val : Ljava/lang/Object;
    //   91: checkcast java/lang/Throwable
    //   94: athrow
    //   95: nop
    //   96: nop
    //   97: athrow
    //   98: athrow
    //   99: getstatic manifold/deferred/Deferred.const__13 : Lclojure/lang/Var;
    //   102: invokevirtual getRawRoot : ()Ljava/lang/Object;
    //   105: checkcast clojure/lang/IFn
    //   108: ldc ''
    //   110: iconst_2
    //   111: anewarray java/lang/Object
    //   114: dup
    //   115: iconst_0
    //   116: getstatic manifold/deferred/Deferred.const__14 : Lclojure/lang/Keyword;
    //   119: aastore
    //   120: dup
    //   121: iconst_1
    //   122: aload_0
    //   123: getfield val : Ljava/lang/Object;
    //   126: aastore
    //   127: invokestatic mapUniqueKeys : ([Ljava/lang/Object;)Lclojure/lang/IPersistentMap;
    //   130: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   135: checkcast java/lang/Throwable
    //   138: athrow
    //   139: nop
    //   140: nop
    //   141: athrow
    //   142: pop
    //   143: new java/util/concurrent/CountDownLatch
    //   146: dup
    //   147: lconst_1
    //   148: invokestatic uncheckedIntCast : (J)I
    //   151: invokespecial <init> : (I)V
    //   154: astore_3
    //   155: new manifold/deferred/Deferred$f__15171__auto____15320
    //   158: dup
    //   159: aload_3
    //   160: invokespecial <init> : (Ljava/lang/Object;)V
    //   163: astore #4
    //   165: aload_0
    //   166: astore #5
    //   168: aload #5
    //   170: checkcast manifold/deferred/IDeferred
    //   173: aload #4
    //   175: aload #4
    //   177: aconst_null
    //   178: astore #4
    //   180: invokeinterface onRealized : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   185: pop
    //   186: aload_3
    //   187: aconst_null
    //   188: astore_3
    //   189: checkcast java/util/concurrent/CountDownLatch
    //   192: invokevirtual await : ()V
    //   195: aconst_null
    //   196: pop
    //   197: getstatic java/lang/Boolean.TRUE : Ljava/lang/Boolean;
    //   200: astore #5
    //   202: aload #5
    //   204: aconst_null
    //   205: astore #5
    //   207: dup
    //   208: ifnull -> 303
    //   211: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   214: if_acmpeq -> 304
    //   217: getstatic manifold/deferred/Deferred.const__4 : Lclojure/lang/Keyword;
    //   220: aload_0
    //   221: getfield state : Ljava/lang/Object;
    //   224: invokestatic identical : (Ljava/lang/Object;Ljava/lang/Object;)Z
    //   227: ifeq -> 238
    //   230: aload_0
    //   231: getfield val : Ljava/lang/Object;
    //   234: goto -> 300
    //   237: athrow
    //   238: aload_0
    //   239: getfield val : Ljava/lang/Object;
    //   242: instanceof java/lang/Throwable
    //   245: ifeq -> 260
    //   248: aload_0
    //   249: getfield val : Ljava/lang/Object;
    //   252: checkcast java/lang/Throwable
    //   255: athrow
    //   256: nop
    //   257: nop
    //   258: athrow
    //   259: athrow
    //   260: getstatic manifold/deferred/Deferred.const__13 : Lclojure/lang/Var;
    //   263: invokevirtual getRawRoot : ()Ljava/lang/Object;
    //   266: checkcast clojure/lang/IFn
    //   269: ldc ''
    //   271: iconst_2
    //   272: anewarray java/lang/Object
    //   275: dup
    //   276: iconst_0
    //   277: getstatic manifold/deferred/Deferred.const__14 : Lclojure/lang/Keyword;
    //   280: aastore
    //   281: dup
    //   282: iconst_1
    //   283: aload_0
    //   284: getfield val : Ljava/lang/Object;
    //   287: aastore
    //   288: invokestatic mapUniqueKeys : ([Ljava/lang/Object;)Lclojure/lang/IPersistentMap;
    //   291: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   296: checkcast java/lang/Throwable
    //   299: athrow
    //   300: goto -> 305
    //   303: pop
    //   304: aconst_null
    //   305: areturn
    // Line number table:
    //   Java source line number -> byte code offset
    //   #339	-> 0
    //   #440	-> 19
    //   #440	-> 20
    //   #440	-> 27
    //   #440	-> 50
    //   #440	-> 53
    //   #440	-> 62
    //   #440	-> 77
    //   #440	-> 105
    //   #440	-> 130
    //   #440	-> 180
    //   #440	-> 192
    //   #440	-> 202
    //   #440	-> 217
    //   #440	-> 224
    //   #440	-> 238
    //   #440	-> 266
    //   #440	-> 291
    // Local variable table:
    //   start	length	slot	name	descriptor
    //   168	18	5	x__15114__auto__15331	Ljava/lang/Object;
    //   202	103	5	result__15173__auto__15332	Ljava/lang/Object;
    //   155	150	3	latch15317	Ljava/lang/Object;
    //   165	140	4	f__15171__auto__15333	Ljava/lang/Object;
    //   14	291	1	pred__15318	Ljava/lang/Object;
    //   19	286	2	expr__15319	Ljava/lang/Object;
    //   0	305	0	this	Lmanifold/deferred/Deferred; }
  
  public boolean isRealized() { this = null;
    return ((IDeferred)this).realized(); }
  
  public Object errorValue(Object default_value) { this.consumed_QMARK_ = Boolean.TRUE;
    default_value = null;
    return Util.identical(const__5, this.state) ? this.val : default_value; }
  
  public Object successValue(Object default_value) { this.consumed_QMARK_ = Boolean.TRUE;
    default_value = null;
    return Util.identical(const__4, this.state) ? this.val : default_value; }
  
  public Object onRealized(Object on_success, Object on_error) { on_success = null;
    on_error = null;
    this = null;
    return ((IFn)const__8.getRawRoot()).invoke(this, ((IFn)const__9.getRawRoot()).invoke(on_success, on_error)); }
  
  public boolean realized() {
    Object state = this.state;
    boolean or__5516__auto__15334 = Util.identical(const__4, state);
    state = null;
    return or__5516__auto__15334 ? or__5516__auto__15334 : Util.identical(const__5, state);
  }
  
  public Object executor() { return this.executor; }
  
  public Object invoke(Object x) { x = null;
    if (((IFn)const__7.getRawRoot()).invoke(this, x) != null) {
      if (((IFn)const__7.getRawRoot()).invoke(this, x) != Boolean.FALSE);
    } else {
      ((IFn)const__7.getRawRoot()).invoke(this, x);
    } 
    return null; }
  
  public Object error(Object x, Object token) {
    Object lock__14925__auto__15337 = this.lock;
    ((Lock)lock__14925__auto__15337).lock();
    null;
    boolean and__5514__auto__15335 = Util.identical(const__3, this.state);
    this.val = x;
    this.state = const__5;
    Object x__14926__auto__15336 = (and__5514__auto__15335 ? Util.identical(this.claim_token, token) : and__5514__auto__15335) ? Boolean.TRUE : null;
    lock__14925__auto__15337 = null;
    ((Lock)lock__14925__auto__15337).unlock();
    null;
    x__14926__auto__15336 = null;
    if (x__14926__auto__15336 != null) {
      if (x__14926__auto__15336 != Boolean.FALSE) {
        while (true) {
          Object temp__5735__auto__15339 = ((LinkedList)this.listeners).poll();
          if (temp__5735__auto__15339 != null) {
            if (temp__5735__auto__15339 != Boolean.FALSE) {
              Object l__15167__auto__15338 = temp__5735__auto__15339 = null;
              l__15167__auto__15338 = null;
              ((IFn)new fn__15309(l__15167__auto__15338, x, this.executor)).invoke();
              continue;
            } 
            break;
          } 
          temp__5735__auto__15339;
          break;
        } 
        null;
      } 
    } else {
      x__14926__auto__15336;
    } 
    token = null;
    throw (Throwable)new IllegalStateException((String)(Util.identical(this.claim_token, token) ? "deferred isn't claimed" : "invalid claim-token"));
  }
  
  public Object error(Object x) {
    Object lock__14925__auto__15341 = this.lock;
    ((Lock)lock__14925__auto__15341).lock();
    null;
    this.val = x;
    this.state = const__5;
    Object x__14926__auto__15340 = Util.identical(const__2, this.state) ? Boolean.TRUE : null;
    lock__14925__auto__15341 = null;
    ((Lock)lock__14925__auto__15341).unlock();
    null;
    x__14926__auto__15340 = null;
    if (x__14926__auto__15340 != null) {
      if (x__14926__auto__15340 != Boolean.FALSE) {
        while (true) {
          Object temp__5735__auto__15343 = ((LinkedList)this.listeners).poll();
          if (temp__5735__auto__15343 != null) {
            if (temp__5735__auto__15343 != Boolean.FALSE) {
              Object l__15167__auto__15342 = temp__5735__auto__15343 = null;
              l__15167__auto__15342 = null;
              ((IFn)new fn__15301(this.executor, x, l__15167__auto__15342)).invoke();
              continue;
            } 
            break;
          } 
          temp__5735__auto__15343;
          break;
        } 
        null;
      } 
    } else {
      x__14926__auto__15340;
    } 
    return Boolean.FALSE;
  }
  
  public Object success(Object x, Object token) {
    Object lock__14925__auto__15346 = this.lock;
    ((Lock)lock__14925__auto__15346).lock();
    null;
    boolean and__5514__auto__15344 = Util.identical(const__3, this.state);
    this.val = x;
    this.state = const__4;
    Object x__14926__auto__15345 = (and__5514__auto__15344 ? Util.identical(this.claim_token, token) : and__5514__auto__15344) ? Boolean.TRUE : null;
    lock__14925__auto__15346 = null;
    ((Lock)lock__14925__auto__15346).unlock();
    null;
    x__14926__auto__15345 = null;
    if (x__14926__auto__15345 != null) {
      if (x__14926__auto__15345 != Boolean.FALSE) {
        while (true) {
          Object temp__5735__auto__15348 = ((LinkedList)this.listeners).poll();
          if (temp__5735__auto__15348 != null) {
            if (temp__5735__auto__15348 != Boolean.FALSE) {
              Object l__15167__auto__15347 = temp__5735__auto__15348 = null;
              l__15167__auto__15347 = null;
              ((IFn)new fn__15293(this.executor, x, l__15167__auto__15347)).invoke();
              continue;
            } 
            break;
          } 
          temp__5735__auto__15348;
          break;
        } 
        null;
      } 
    } else {
      x__14926__auto__15345;
    } 
    token = null;
    throw (Throwable)new IllegalStateException((String)(Util.identical(this.claim_token, token) ? "deferred isn't claimed" : "invalid claim-token"));
  }
  
  public Object success(Object x) {
    Object lock__14925__auto__15350 = this.lock;
    ((Lock)lock__14925__auto__15350).lock();
    null;
    this.val = x;
    this.state = const__4;
    Object x__14926__auto__15349 = Util.identical(const__2, this.state) ? Boolean.TRUE : null;
    lock__14925__auto__15350 = null;
    ((Lock)lock__14925__auto__15350).unlock();
    null;
    x__14926__auto__15349 = null;
    if (x__14926__auto__15349 != null) {
      if (x__14926__auto__15349 != Boolean.FALSE) {
        while (true) {
          Object temp__5735__auto__15352 = ((LinkedList)this.listeners).poll();
          if (temp__5735__auto__15352 != null) {
            if (temp__5735__auto__15352 != Boolean.FALSE) {
              Object l__15167__auto__15351 = temp__5735__auto__15352 = null;
              l__15167__auto__15351 = null;
              ((IFn)new fn__15285(l__15167__auto__15351, x, this.executor)).invoke();
              continue;
            } 
            break;
          } 
          temp__5735__auto__15352;
          break;
        } 
        null;
      } 
    } else {
      x__14926__auto__15349;
    } 
    return Boolean.FALSE;
  }
  
  public Object cancelListener(Object listener) {
    Object lock__14925__auto__15355 = this.lock;
    ((Lock)lock__14925__auto__15355).lock();
    null;
    Object state = this.state;
    boolean or__5516__auto__15353 = Util.identical(const__2, state);
    state = null;
    listener = null;
    x__14926__auto__15354 = (or__5516__auto__15353 ? or__5516__auto__15353 : Util.identical(const__6, state)) ? (((LinkedList)this.listeners).remove(listener) ? Boolean.TRUE : Boolean.FALSE) : Boolean.FALSE;
    lock__14925__auto__15355 = null;
    ((Lock)lock__14925__auto__15355).unlock();
    null;
    return null;
  }
  
  public Object addListener(Object listener) { // Byte code:
    //   0: aload_0
    //   1: getstatic java/lang/Boolean.TRUE : Ljava/lang/Boolean;
    //   4: putfield consumed_QMARK_ : Ljava/lang/Object;
    //   7: aload_0
    //   8: getfield lock : Ljava/lang/Object;
    //   11: astore_2
    //   12: aload_2
    //   13: checkcast java/util/concurrent/locks/Lock
    //   16: invokeinterface lock : ()V
    //   21: aconst_null
    //   22: pop
    //   23: getstatic manifold/deferred/Deferred.const__1 : Lclojure/lang/Var;
    //   26: invokevirtual getRawRoot : ()Ljava/lang/Object;
    //   29: astore_3
    //   30: aload_0
    //   31: getfield state : Ljava/lang/Object;
    //   34: astore #4
    //   36: aload_3
    //   37: checkcast clojure/lang/IFn
    //   40: getstatic manifold/deferred/Deferred.const__4 : Lclojure/lang/Keyword;
    //   43: aload #4
    //   45: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   50: dup
    //   51: ifnull -> 77
    //   54: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   57: if_acmpeq -> 78
    //   60: new manifold/deferred/Deferred$fn__15281
    //   63: dup
    //   64: aload_1
    //   65: aconst_null
    //   66: astore_1
    //   67: aload_0
    //   68: getfield val : Ljava/lang/Object;
    //   71: invokespecial <init> : (Ljava/lang/Object;Ljava/lang/Object;)V
    //   74: goto -> 152
    //   77: pop
    //   78: aload_3
    //   79: aconst_null
    //   80: astore_3
    //   81: checkcast clojure/lang/IFn
    //   84: getstatic manifold/deferred/Deferred.const__5 : Lclojure/lang/Keyword;
    //   87: aload #4
    //   89: aconst_null
    //   90: astore #4
    //   92: invokeinterface invoke : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   97: dup
    //   98: ifnull -> 124
    //   101: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   104: if_acmpeq -> 125
    //   107: new manifold/deferred/Deferred$fn__15283
    //   110: dup
    //   111: aload_1
    //   112: aconst_null
    //   113: astore_1
    //   114: aload_0
    //   115: getfield val : Ljava/lang/Object;
    //   118: invokespecial <init> : (Ljava/lang/Object;Ljava/lang/Object;)V
    //   121: goto -> 152
    //   124: pop
    //   125: aload_0
    //   126: getfield listeners : Ljava/lang/Object;
    //   129: checkcast java/util/LinkedList
    //   132: aload_1
    //   133: aconst_null
    //   134: astore_1
    //   135: invokevirtual add : (Ljava/lang/Object;)Z
    //   138: ifeq -> 147
    //   141: getstatic java/lang/Boolean.TRUE : Ljava/lang/Boolean;
    //   144: goto -> 150
    //   147: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   150: pop
    //   151: aconst_null
    //   152: astore_3
    //   153: aload_2
    //   154: aconst_null
    //   155: astore_2
    //   156: checkcast java/util/concurrent/locks/Lock
    //   159: invokeinterface unlock : ()V
    //   164: aconst_null
    //   165: pop
    //   166: aload_3
    //   167: aconst_null
    //   168: astore_3
    //   169: astore_2
    //   170: aload_2
    //   171: dup
    //   172: ifnull -> 238
    //   175: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   178: if_acmpeq -> 239
    //   181: aload_2
    //   182: aconst_null
    //   183: astore_2
    //   184: astore_3
    //   185: aload_0
    //   186: getfield executor : Ljava/lang/Object;
    //   189: dup
    //   190: ifnull -> 222
    //   193: getstatic java/lang/Boolean.FALSE : Ljava/lang/Boolean;
    //   196: if_acmpeq -> 223
    //   199: aload_0
    //   200: getfield executor : Ljava/lang/Object;
    //   203: checkcast java/util/concurrent/Executor
    //   206: aload_3
    //   207: aconst_null
    //   208: astore_3
    //   209: checkcast java/lang/Runnable
    //   212: invokeinterface execute : (Ljava/lang/Runnable;)V
    //   217: aconst_null
    //   218: pop
    //   219: goto -> 235
    //   222: pop
    //   223: aload_3
    //   224: aconst_null
    //   225: astore_3
    //   226: checkcast clojure/lang/IFn
    //   229: invokeinterface invoke : ()Ljava/lang/Object;
    //   234: pop
    //   235: goto -> 241
    //   238: pop
    //   239: aconst_null
    //   240: pop
    //   241: getstatic java/lang/Boolean.TRUE : Ljava/lang/Boolean;
    //   244: areturn
    // Line number table:
    //   Java source line number -> byte code offset
    //   #339	-> 0
    //   #378	-> 16
    //   #379	-> 36
    //   #379	-> 37
    //   #379	-> 45
    //   #379	-> 78
    //   #379	-> 81
    //   #379	-> 92
    //   #383	-> 135
    //   #378	-> 159
    //   #378	-> 170
    //   #385	-> 185
    //   #386	-> 212
    //   #387	-> 226
    //   #387	-> 229
    // Local variable table:
    //   start	length	slot	name	descriptor
    //   30	122	3	pred__15279	Ljava/lang/Object;
    //   36	116	4	expr__15280	Ljava/lang/Object;
    //   153	16	3	x__14926__auto__15356	Ljava/lang/Object;
    //   12	157	2	lock__14925__auto__15357	Ljava/lang/Object;
    //   185	50	3	f	Ljava/lang/Object;
    //   170	71	2	temp__5735__auto__15358	Ljava/lang/Object;
    //   0	244	0	this	Lmanifold/deferred/Deferred;
    //   0	244	1	listener	Ljava/lang/Object; }
  
  public Object claim() {
    Object lock__14925__auto__15360 = this.lock;
    ((Lock)lock__14925__auto__15360).lock();
    null;
    this.state = const__3;
    this.claim_token = new Object();
    x__14926__auto__15359 = Util.identical(this.state, const__2) ? this.claim_token : null;
    lock__14925__auto__15360 = null;
    ((Lock)lock__14925__auto__15360).unlock();
    null;
    return null;
  }
  
  public IPersistentMap alterMeta(IFn f, ISeq args) {
    Object lock__14925__auto__15362 = this.lock;
    ((Lock)lock__14925__auto__15362).lock();
    null;
    f = null;
    args = null;
    Object x__14926__auto__15361 = this.mta = ((IFn)const__0.getRawRoot()).invoke(f, this.mta, args);
    lock__14925__auto__15362 = null;
    ((Lock)lock__14925__auto__15362).unlock();
    null;
    x__14926__auto__15361 = null;
    return (IPersistentMap)x__14926__auto__15361;
  }
  
  public IPersistentMap resetMeta(IPersistentMap m) {
    Object lock__14925__auto__15364 = this.lock;
    ((Lock)lock__14925__auto__15364).lock();
    null;
    Object x__14926__auto__15363 = this.mta = m = null;
    lock__14925__auto__15364 = null;
    ((Lock)lock__14925__auto__15364).unlock();
    null;
    x__14926__auto__15363 = null;
    return (IPersistentMap)x__14926__auto__15363;
  }
  
  public IPersistentMap meta() { return (IPersistentMap)this.mta; }
}
