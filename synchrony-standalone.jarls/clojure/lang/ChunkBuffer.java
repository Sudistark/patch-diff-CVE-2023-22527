package clojure.lang;

public final class ChunkBuffer implements Counted {
  Object[] buffer;
  
  int end;
  
  public ChunkBuffer(int capacity) {
    this.buffer = new Object[capacity];
    this.end = 0;
  }
  
  public void add(Object o) { this.buffer[this.end++] = o; }
  
  public IChunk chunk() {
    ArrayChunk ret = new ArrayChunk(this.buffer, 0, this.end);
    this.buffer = null;
    return ret;
  }
  
  public int count() { return this.end; }
}
