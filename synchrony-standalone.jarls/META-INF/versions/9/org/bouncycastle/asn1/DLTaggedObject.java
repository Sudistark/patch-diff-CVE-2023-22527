package META-INF.versions.9.org.bouncycastle.asn1;

import java.io.IOException;
import org.bouncycastle.asn1.ASN1Encodable;
import org.bouncycastle.asn1.ASN1OutputStream;
import org.bouncycastle.asn1.ASN1Primitive;
import org.bouncycastle.asn1.ASN1TaggedObject;
import org.bouncycastle.asn1.DLTaggedObject;
import org.bouncycastle.asn1.StreamUtil;

public class DLTaggedObject extends ASN1TaggedObject {
  public DLTaggedObject(boolean paramBoolean, int paramInt, ASN1Encodable paramASN1Encodable) { super(paramBoolean, paramInt, paramASN1Encodable); }
  
  boolean isConstructed() { return (this.explicit || this.obj.toASN1Primitive().toDLObject().isConstructed()); }
  
  int encodedLength() throws IOException {
    int i = this.obj.toASN1Primitive().toDLObject().encodedLength();
    if (this.explicit)
      return StreamUtil.calculateTagLength(this.tagNo) + StreamUtil.calculateBodyLength(i) + i; 
    i--;
    return StreamUtil.calculateTagLength(this.tagNo) + i;
  }
  
  void encode(ASN1OutputStream paramASN1OutputStream, boolean paramBoolean) throws IOException {
    ASN1Primitive aSN1Primitive = this.obj.toASN1Primitive().toDLObject();
    char c = 'Â€';
    if (this.explicit || aSN1Primitive.isConstructed())
      c |= 0x20; 
    paramASN1OutputStream.writeTag(paramBoolean, c, this.tagNo);
    if (this.explicit)
      paramASN1OutputStream.writeLength(aSN1Primitive.encodedLength()); 
    paramASN1OutputStream.getDLSubStream().writePrimitive(aSN1Primitive, this.explicit);
  }
  
  ASN1Primitive toDLObject() { return this; }
}
