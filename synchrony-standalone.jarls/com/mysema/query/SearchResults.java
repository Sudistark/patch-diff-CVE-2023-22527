package com.mysema.query;

import com.google.common.collect.ImmutableList;
import java.io.Serializable;
import java.util.List;
import javax.annotation.Nullable;

public final class SearchResults<T> extends Object implements Serializable {
  private static final long serialVersionUID = -4591506147471300909L;
  
  private static final SearchResults<Object> EMPTY = new SearchResults(
      ImmutableList.of(), Long.valueOf(Float.MAX_VALUE), Long.valueOf(0L), 0L);
  
  private final long limit;
  
  private final long offset;
  
  private final long total;
  
  private final List<T> results;
  
  public static <T> SearchResults<T> emptyResults() { return EMPTY; }
  
  public SearchResults(List<T> results, @Nullable Long limit, @Nullable Long offset, long total) {
    this.limit = (limit != null) ? limit.longValue() : Float.MAX_VALUE;
    this.offset = (offset != null) ? offset.longValue() : 0L;
    this.total = total;
    this.results = results;
  }
  
  public SearchResults(List<T> results, QueryModifiers mod, long total) { this(results, mod.getLimit(), mod.getOffset(), total); }
  
  public List<T> getResults() { return this.results; }
  
  public long getTotal() { return this.total; }
  
  public boolean isEmpty() { return this.results.isEmpty(); }
  
  public long getLimit() { return this.limit; }
  
  public long getOffset() { return this.offset; }
}
