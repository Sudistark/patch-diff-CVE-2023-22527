package com.mysema.query.types;

import javax.annotation.Nullable;

public abstract class ExpressionBase<T> extends Object implements Expression<T> {
  private static final long serialVersionUID = -8862014178653364345L;
  
  private final Class<? extends T> type;
  
  public ExpressionBase(Class<? extends T> type) { this.type = type; }
  
  public final Class<? extends T> getType() { return this.type; }
  
  public final int hashCode() {
    if (this.hashCode == null)
      this.hashCode = (Integer)accept(HashCodeVisitor.DEFAULT, null); 
    return this.hashCode.intValue();
  }
  
  public final String toString() {
    if (this.toString == null)
      this.toString = (String)accept(ToStringVisitor.DEFAULT, Templates.DEFAULT); 
    return this.toString;
  }
}
