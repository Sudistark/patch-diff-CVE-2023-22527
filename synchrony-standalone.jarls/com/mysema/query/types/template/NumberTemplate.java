package com.mysema.query.types.template;

import com.google.common.collect.ImmutableList;
import com.mysema.query.types.Template;
import com.mysema.query.types.TemplateExpression;
import com.mysema.query.types.TemplateExpressionImpl;
import com.mysema.query.types.TemplateFactory;
import com.mysema.query.types.Visitor;
import com.mysema.query.types.expr.NumberExpression;
import java.util.List;

public class NumberTemplate<T extends Number & Comparable<?>> extends NumberExpression<T> implements TemplateExpression<T> {
  private static final long serialVersionUID = 351057421752203377L;
  
  public static <T extends Number & Comparable<?>> NumberExpression<T> create(Class<T> type, String template) { return new NumberTemplate(type, TemplateFactory.DEFAULT.create(template), ImmutableList.of()); }
  
  public static <T extends Number & Comparable<?>> NumberExpression<T> create(Class<T> type, String template, Object one) { return new NumberTemplate(type, TemplateFactory.DEFAULT.create(template), ImmutableList.of(one)); }
  
  public static <T extends Number & Comparable<?>> NumberExpression<T> create(Class<T> type, String template, Object one, Object two) { return new NumberTemplate(type, TemplateFactory.DEFAULT.create(template), ImmutableList.of(one, two)); }
  
  public static <T extends Number & Comparable<?>> NumberExpression<T> create(Class<T> type, String template, Object... args) { return new NumberTemplate(type, TemplateFactory.DEFAULT.create(template), ImmutableList.copyOf(args)); }
  
  public static <T extends Number & Comparable<?>> NumberExpression<T> create(Class<T> type, Template template, Object... args) { return new NumberTemplate(type, template, ImmutableList.copyOf(args)); }
  
  public static final NumberExpression<Integer> ONE = create(Integer.class, "1");
  
  public static final NumberExpression<Integer> TWO = create(Integer.class, "2");
  
  public static final NumberExpression<Integer> THREE = create(Integer.class, "3");
  
  public static final NumberExpression<Integer> FOUR = create(Integer.class, "4");
  
  public static final NumberExpression<Integer> ZERO = create(Integer.class, "0");
  
  private final TemplateExpressionImpl<T> templateMixin;
  
  public NumberTemplate(Class<T> type, Template template, ImmutableList<?> args) {
    super(new TemplateExpressionImpl(type, template, args));
    this.templateMixin = (TemplateExpressionImpl)this.mixin;
  }
  
  public final <R, C> R accept(Visitor<R, C> v, C context) { return (R)v.visit(this.templateMixin, context); }
  
  public Object getArg(int index) { return this.templateMixin.getArg(index); }
  
  public List<?> getArgs() { return this.templateMixin.getArgs(); }
  
  public Template getTemplate() { return this.templateMixin.getTemplate(); }
}
