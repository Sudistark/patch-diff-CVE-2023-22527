package com.mysema.query.types.expr;

import com.google.common.collect.ImmutableList;
import com.mysema.query.types.Expression;
import com.mysema.query.types.Operation;
import com.mysema.query.types.OperationImpl;
import com.mysema.query.types.Operator;
import com.mysema.query.types.Visitor;
import java.util.List;

public class StringOperation extends StringExpression implements Operation<String> {
  private static final long serialVersionUID = 6846556373847139549L;
  
  private final OperationImpl<String> opMixin;
  
  public static StringExpression create(Operator<? super String> op, Expression<?> one) { return new StringOperation(op, ImmutableList.of(one)); }
  
  public static StringExpression create(Operator<? super String> op, Expression<?> one, Expression<?> two) { return new StringOperation(op, ImmutableList.of(one, two)); }
  
  public static StringExpression create(Operator<? super String> op, Expression... args) { return new StringOperation(op, args); }
  
  protected StringOperation(Operator<? super String> op, Expression... args) { this(op, ImmutableList.copyOf(args)); }
  
  protected StringOperation(Operator<? super String> op, ImmutableList<Expression<?>> args) {
    super(new OperationImpl(String.class, op, args));
    this.opMixin = (OperationImpl)this.mixin;
  }
  
  public final <R, C> R accept(Visitor<R, C> v, C context) { return (R)v.visit(this.opMixin, context); }
  
  public Expression<?> getArg(int index) { return this.opMixin.getArg(index); }
  
  public List<Expression<?>> getArgs() { return this.opMixin.getArgs(); }
  
  public Operator<? super String> getOperator() { return this.opMixin.getOperator(); }
}
