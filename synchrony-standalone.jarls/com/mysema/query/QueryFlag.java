package com.mysema.query;

import com.google.common.base.Objects;
import com.mysema.query.types.Expression;
import com.mysema.query.types.TemplateExpressionImpl;
import java.io.Serializable;

public class QueryFlag implements Serializable {
  private static final long serialVersionUID = -7131081607441961628L;
  
  private final Position position;
  
  private final Expression<?> flag;
  
  public QueryFlag(Position position, String flag) { this(position, TemplateExpressionImpl.create(Object.class, flag)); }
  
  public QueryFlag(Position position, Expression<?> flag) {
    this.position = position;
    this.flag = flag;
  }
  
  public Position getPosition() { return this.position; }
  
  public Expression<?> getFlag() { return this.flag; }
  
  public int hashCode() { return Objects.hashCode(new Object[] { this.position, this.flag }); }
  
  public boolean equals(Object obj) {
    if (obj == this)
      return true; 
    if (obj instanceof QueryFlag) {
      QueryFlag other = (QueryFlag)obj;
      return (other.position.equals(this.position) && other.flag.equals(this.flag));
    } 
    return false;
  }
  
  public String toString() { return this.position + " : " + this.flag; }
}
