package com.mysema.query.sql.types;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.SQLXML;

public class XMLAsStringType extends AbstractType<String> {
  public XMLAsStringType() { super(2009); }
  
  public XMLAsStringType(int type) { super(type); }
  
  public String getValue(ResultSet rs, int startIndex) throws SQLException {
    SQLXML value = rs.getSQLXML(startIndex);
    return (value != null) ? value.getString() : null;
  }
  
  public Class<String> getReturnedClass() { return String.class; }
  
  public void setValue(PreparedStatement st, int startIndex, String value) throws SQLException {
    SQLXML xml = st.getConnection().createSQLXML();
    xml.setString(value);
    st.setSQLXML(startIndex, xml);
  }
}
