package com.hazelcast.map.impl.mapstore;

import com.hazelcast.config.MapConfig;
import com.hazelcast.config.MapStoreConfig;
import com.hazelcast.map.impl.MapContainer;

public final class MapStoreContextFactory {
  private static final MapStoreContext EMPTY_MAP_STORE_CONTEXT = new EmptyMapStoreContext(null);
  
  public static MapStoreContext createMapStoreContext(MapContainer mapContainer) {
    MapConfig mapConfig = mapContainer.getMapConfig();
    MapStoreConfig mapStoreConfig = mapConfig.getMapStoreConfig();
    if (mapStoreConfig == null || !mapStoreConfig.isEnabled())
      return EMPTY_MAP_STORE_CONTEXT; 
    return BasicMapStoreContext.create(mapContainer);
  }
}
