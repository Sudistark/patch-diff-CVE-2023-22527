package com.hazelcast.concurrent.semaphore.operations;

import com.hazelcast.nio.ObjectDataInput;
import com.hazelcast.nio.ObjectDataOutput;
import com.hazelcast.spi.BackupOperation;
import java.io.IOException;

public abstract class SemaphoreBackupOperation extends SemaphoreOperation implements BackupOperation {
  protected String firstCaller;
  
  protected SemaphoreBackupOperation() {}
  
  protected SemaphoreBackupOperation(String name, int permitCount, String firstCaller) {
    super(name, permitCount);
    this.firstCaller = firstCaller;
  }
  
  public void writeInternal(ObjectDataOutput out) throws IOException {
    super.writeInternal(out);
    out.writeUTF(this.firstCaller);
  }
  
  public void readInternal(ObjectDataInput in) throws IOException {
    super.readInternal(in);
    this.firstCaller = in.readUTF();
  }
}
