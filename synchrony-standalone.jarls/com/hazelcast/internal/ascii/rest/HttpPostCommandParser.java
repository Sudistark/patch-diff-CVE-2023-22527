package com.hazelcast.internal.ascii.rest;

import com.hazelcast.internal.ascii.CommandParser;
import com.hazelcast.internal.ascii.TextCommand;
import com.hazelcast.internal.ascii.TextCommandConstants;
import com.hazelcast.internal.ascii.memcache.ErrorCommand;
import com.hazelcast.nio.ascii.TextDecoder;
import java.util.StringTokenizer;

public class HttpPostCommandParser implements CommandParser {
  public TextCommand parser(TextDecoder decoder, String cmd, int space) {
    String uri;
    StringTokenizer st = new StringTokenizer(cmd);
    st.nextToken();
    if (st.hasMoreTokens()) {
      uri = st.nextToken();
    } else {
      return new ErrorCommand(TextCommandConstants.TextCommandType.ERROR_CLIENT);
    } 
    return new HttpPostCommand(decoder, uri);
  }
}
