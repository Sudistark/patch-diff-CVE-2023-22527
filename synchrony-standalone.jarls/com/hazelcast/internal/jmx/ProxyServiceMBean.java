package com.hazelcast.internal.jmx;

import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.spi.ProxyService;
import com.hazelcast.util.MapUtil;
import java.util.Map;

@ManagedDescription("HazelcastInstance.ProxyService")
public class ProxyServiceMBean extends HazelcastMBean<ProxyService> {
  private static final int INITIAL_CAPACITY = 3;
  
  public ProxyServiceMBean(HazelcastInstance hazelcastInstance, ProxyService proxyService, ManagementService service) {
    super(proxyService, service);
    Map<String, String> properties = MapUtil.createHashMap(3);
    properties.put("type", ManagementService.quote("HazelcastInstance.ProxyService"));
    properties.put("name", ManagementService.quote("proxyService" + hazelcastInstance.getName()));
    properties.put("instance", ManagementService.quote(hazelcastInstance.getName()));
    setObjectName(properties);
  }
  
  @ManagedAnnotation("proxyCount")
  @ManagedDescription("The number proxies")
  public int getProxyCount() { return ((ProxyService)this.managedObject).getProxyCount(); }
}
