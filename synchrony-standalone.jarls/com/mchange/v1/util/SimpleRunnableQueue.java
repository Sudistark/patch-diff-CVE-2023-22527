package com.mchange.v1.util;

import java.util.LinkedList;
import java.util.List;

public class SimpleRunnableQueue implements RunnableQueue {
  private List taskList;
  
  private Thread t;
  
  public SimpleRunnableQueue(boolean paramBoolean) {
    this.taskList = new LinkedList();
    this.t = new TaskThread(this);
    this.t.setDaemon(paramBoolean);
    this.t.start();
  }
  
  public SimpleRunnableQueue() { this(true); }
  
  public void postRunnable(Runnable paramRunnable) {
    this.taskList.add(paramRunnable);
    notifyAll();
  }
  
  public void close() {
    this.t.interrupt();
    this.taskList = null;
    this.t = null;
  }
  
  private Runnable dequeueRunnable() {
    Runnable runnable = (Runnable)this.taskList.get(0);
    this.taskList.remove(0);
    return runnable;
  }
  
  private void awaitTask() { for (; this.taskList.size() == 0; wait()); }
}
