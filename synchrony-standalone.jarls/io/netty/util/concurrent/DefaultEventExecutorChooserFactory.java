package io.netty.util.concurrent;

public final class DefaultEventExecutorChooserFactory implements EventExecutorChooserFactory {
  public static final DefaultEventExecutorChooserFactory INSTANCE = new DefaultEventExecutorChooserFactory();
  
  public EventExecutorChooserFactory.EventExecutorChooser newChooser(EventExecutor[] executors) {
    if (isPowerOfTwo(executors.length))
      return new PowerOfTwoEventExecutorChooser(executors); 
    return new GenericEventExecutorChooser(executors);
  }
  
  private static boolean isPowerOfTwo(int val) { return ((val & -val) == val); }
}
