package io.netty.util.internal.shaded.org.jctools.queues;

import io.netty.util.internal.shaded.org.jctools.util.UnsafeAccess;

final class LinkedQueueNode<E> extends Object {
  private static final long NEXT_OFFSET = UnsafeAccess.fieldOffset(LinkedQueueNode.class, "next");
  
  private E value;
  
  LinkedQueueNode() { this(null); }
  
  LinkedQueueNode(E val) { spValue(val); }
  
  public E getAndNullValue() {
    E temp = (E)lpValue();
    spValue(null);
    return temp;
  }
  
  public E lpValue() { return (E)this.value; }
  
  public void spValue(E newValue) { this.value = newValue; }
  
  public void soNext(LinkedQueueNode<E> n) { UnsafeAccess.UNSAFE.putOrderedObject(this, NEXT_OFFSET, n); }
  
  public void spNext(LinkedQueueNode<E> n) { UnsafeAccess.UNSAFE.putObject(this, NEXT_OFFSET, n); }
  
  public LinkedQueueNode<E> lvNext() { return this.next; }
}
