package org.apache.commons.compress.archivers.zip;

import java.util.zip.ZipException;

public class UnsupportedZipFeatureException extends ZipException {
  private static final long serialVersionUID = 20161219L;
  
  private final Feature reason;
  
  private final ZipArchiveEntry entry;
  
  public UnsupportedZipFeatureException(Feature reason) {
    super("Unsupported feature " + reason + " used in archive.");
    this.reason = reason;
    this.entry = null;
  }
  
  public UnsupportedZipFeatureException(Feature reason, ZipArchiveEntry entry) {
    super("Unsupported feature " + reason + " used in entry " + entry
        .getName());
    this.reason = reason;
    this.entry = entry;
  }
  
  public UnsupportedZipFeatureException(ZipMethod method, ZipArchiveEntry entry) {
    super("Unsupported compression method " + entry.getMethod() + " (" + method
        .name() + ") used in entry " + entry.getName());
    this.reason = Feature.METHOD;
    this.entry = entry;
  }
  
  public ZipArchiveEntry getEntry() { return this.entry; }
  
  public Feature getFeature() { return this.reason; }
}
