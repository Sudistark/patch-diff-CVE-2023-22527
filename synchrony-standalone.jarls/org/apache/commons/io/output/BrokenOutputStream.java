package org.apache.commons.io.output;

import java.io.IOException;
import java.io.OutputStream;
import java.util.function.Supplier;

public class BrokenOutputStream extends OutputStream {
  public static final BrokenOutputStream INSTANCE = new BrokenOutputStream();
  
  private final Supplier<IOException> exceptionSupplier;
  
  public BrokenOutputStream() { this(() -> new IOException("Broken output stream")); }
  
  public BrokenOutputStream(IOException exception) { this(() -> exception); }
  
  public BrokenOutputStream(Supplier<IOException> exceptionSupplier) { this.exceptionSupplier = exceptionSupplier; }
  
  public void close() { throw (IOException)this.exceptionSupplier.get(); }
  
  public void flush() { throw (IOException)this.exceptionSupplier.get(); }
  
  public void write(int b) throws IOException { throw (IOException)this.exceptionSupplier.get(); }
}
